{"ast":null,"code":"import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot } from 'vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  name: \"ElCollapseTransition\",\n  setup() {\n    const ns = useNamespace(\"collapse-transition\");\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.style.maxHeight = 0;\n          el.style.paddingTop = 0;\n          el.style.paddingBottom = 0;\n        },\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow;\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          } else {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          }\n          el.style.overflow = \"hidden\";\n        },\n        afterEnter(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n        },\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.dataset.oldOverflow = el.style.overflow;\n          el.style.maxHeight = `${el.scrollHeight}px`;\n          el.style.overflow = \"hidden\";\n        },\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = 0;\n            el.style.paddingBottom = 0;\n          }\n        },\n        afterLeave(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n        }\n      }\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    name: _ctx.ns.b()\n  }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  }, 16, [\"name\"]);\n}\nvar CollapseTransition = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { CollapseTransition as default };","map":{"version":3,"mappings":";;;;AASA,MAAKA,YAAaC,eAAa;EAC7BC,IAAM;EACNC,KAAQA;IACN,MAAMC,KAAKC,YAAa;IAEjB;MACLD;MACAE,EAAI;QACFC,YAAYC,EAAI;UACd,IAAI,CAACA,EAAG,UAASA,GAAGC,OAAU;UAE3BD,WAAQE,aAAgB,MAAGC,KAAM;UACjCH,WAAQI,gBAAmB,MAAGD,KAAM;UAEvCH,GAAGG,MAAME,SAAY;UACrBL,GAAGG,MAAMG,UAAa;UACtBN,GAAGG,MAAMI,aAAgB;QAAA;QAG3BC,MAAMR,EAAI;UACLA,WAAQS,WAAc,MAAGN,KAAM;UAC9B,OAAGO,iBAAiB,CAAG;YACtBV,SAAMK,SAAY,MAAGL,EAAG;YACxBA,SAAMM,UAAa,MAAGL,OAAQ;YAC9BD,SAAMO,aAAgB,MAAGN,OAAQ;UAAA,CAC/B;YACLD,GAAGG,MAAME,SAAY;YAClBL,SAAMM,UAAa,MAAGL,OAAQ;YAC9BD,SAAMO,aAAgB,MAAGN,OAAQ;UAAA;UAGtCD,GAAGG,MAAMQ,QAAW;QAAA;QAGtBC,WAAWZ,EAAI;UACbA,GAAGG,MAAME,SAAY;UAClBL,SAAMW,QAAW,MAAGV,OAAQ;QAAA;QAGjCY,YAAYb,EAAI;UACd,IAAI,CAACA,EAAG,UAASA,GAAGC,OAAU;UAC3BD,WAAQE,aAAgB,MAAGC,KAAM;UACjCH,WAAQI,gBAAmB,MAAGD,KAAM;UACpCH,WAAQS,WAAc,MAAGN,KAAM;UAE/BH,SAAMK,SAAY,MAAGL,EAAG;UAC3BA,GAAGG,MAAMQ,QAAW;QAAA;QAGtBG,MAAMd,EAAI;UACJ,OAAGU,iBAAiB,CAAG;YACzBV,GAAGG,MAAME,SAAY;YACrBL,GAAGG,MAAMG,UAAa;YACtBN,GAAGG,MAAMI,aAAgB;UAAA;QAAA;QAI7BQ,WAAWf,EAAI;UACbA,GAAGG,MAAME,SAAY;UAClBL,SAAMW,QAAW,MAAGV,OAAQ;UAC5BD,SAAMM,UAAa,MAAGL,OAAQ;UAC9BD,SAAMO,aAAgB,MAAGN,OAAQ;QAAA;MAAA;IAAA;EAAA;AAAA;;EArE5C,gCAEae,YAFbC,UAEa;IAFAvB,MAAMwB,IAAG;EAAA,CAAK,aAAMA,KAAGpB,EAAD;IAAAqB,iBACjC,MAAQ,CAARC,UAAQ;IAAAC","names":["_sfc_main","defineComponent","name","setup","ns","useNamespace","on","beforeEnter","el","dataset","oldPaddingTop","style","oldPaddingBottom","maxHeight","paddingTop","paddingBottom","enter","oldOverflow","scrollHeight","overflow","afterEnter","beforeLeave","leave","afterLeave","_Transition","_mergeProps","_ctx","default","_renderSlot","_"],"sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot />\n  </transition>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nexport default defineComponent({\n  name: 'ElCollapseTransition',\n  setup() {\n    const ns = useNamespace('collapse-transition')\n\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {}\n\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n          el.style.maxHeight = 0\n          el.style.paddingTop = 0\n          el.style.paddingBottom = 0\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          } else {\n            el.style.maxHeight = 0\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          }\n\n          el.style.overflow = 'hidden'\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {}\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n          el.dataset.oldOverflow = el.style.overflow\n\n          el.style.maxHeight = `${el.scrollHeight}px`\n          el.style.overflow = 'hidden'\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0\n            el.style.paddingTop = 0\n            el.style.paddingBottom = 0\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n          el.style.paddingTop = el.dataset.oldPaddingTop\n          el.style.paddingBottom = el.dataset.oldPaddingBottom\n        },\n      },\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}