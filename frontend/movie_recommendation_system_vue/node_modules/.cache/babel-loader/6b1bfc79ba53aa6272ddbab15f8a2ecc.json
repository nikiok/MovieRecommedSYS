{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-859f9d20\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_carousel_item = _resolveComponent(\"el-carousel-item\");\n  const _component_el_carousel = _resolveComponent(\"el-carousel\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_carousel, {\n    ref: \"carousel\",\n    class: \"carousel-first\",\n    trigger: \"hover\",\n    interval: 3000,\n    height: \"35rem\",\n    type: \"card\",\n    arrow: \"always\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.movies, (movie, index) => {\n      return _openBlock(), _createBlock(_component_el_carousel_item, {\n        label: movie.label,\n        class: \"item\",\n        key: index\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"a\", {\n          href: `/movie/info/${movie.id}`,\n          target: \"_blank\"\n        }, [_createVNode(_component_el_image, {\n          class: \"img\",\n          src: movie.pic,\n          alt: \"电影海报\"\n        }, null, 8 /* PROPS */, [\"src\"])], 8 /* PROPS */, _hoisted_2)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAM;;;;;;uBAAjBC,oBAoBM,OApBNC,UAoBM,GAnBJC,aAkBcC;IAjBVC,GAAG,EAAC,UAAU;IACdL,KAAK,EAAC,gBAAgB;IACtBM,OAAO,EAAC,OAAO;IACdC,QAAQ,EAAE,IAAI;IACfC,MAAM,EAAC,OAAO;IACdC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAC;;sBAKJ,MAA+B,oBAHnCT,oBAQmBU,6BALSC,aAAM,GAAtBC,KAAK,EAACC,KAAK;2BAHvBC,aAQmBC;QAPdC,KAAK,EAAEJ,KAAK,CAACI,KAAK;QACnBjB,KAAK,EAAC,MAAM;QAEXkB,GAAG,EAAEJ;;0BACR,MAEI,CAFJK,oBAEI;UAFAC,IAAI,iBAAiBP,KAAK,CAACQ,EAAE;UAAIC,MAAM,EAAC;YAC1CnB,aAA6DoB;UAAnDvB,KAAK,EAAC,KAAK;UAAEwB,GAAG,EAAEX,KAAK,CAACY,GAAG;UAAEC,GAAG,EAAC","names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_carousel","ref","trigger","interval","height","type","arrow","_Fragment","$setup","movie","index","_createBlock","_component_el_carousel_item","label","key","_createElementVNode","href","id","target","_component_el_image","src","pic","alt"],"sourceRoot":"","sources":["F:\\personalSpace\\lx-bishe\\movie_recommendation_system_vue\\src\\components\\home\\MovieCarousel.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <el-carousel\r\n        ref=\"carousel\"\r\n        class=\"carousel-first\"\r\n        trigger=\"hover\"\r\n        :interval=\"3000\"\r\n        height=\"35rem\"\r\n        type=\"card\"\r\n        arrow=\"always\"\r\n    >\r\n      <el-carousel-item\r\n          :label=\"movie.label\"\r\n          class=\"item\"\r\n          v-for=\"(movie,index) in movies\"\r\n          :key=\"index\">\r\n        <a :href=\"`/movie/info/${movie.id}`\" target=\"_blank\">\r\n          <el-image class=\"img\" :src=\"movie.pic\" alt=\"电影海报\"></el-image>\r\n        </a>\r\n      </el-carousel-item>\r\n    </el-carousel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {nextTick, reactive, ref} from \"vue\";\r\nimport movieRequest from \"@/api/movie\";\r\n\r\nexport default {\r\n  name: \"MovieCarousel\",\r\n  components: {},\r\n  setup() {\r\n    let carousel = ref(null);\r\n    let screenWidth = ref(0);\r\n    let movies = reactive([]);\r\n\r\n    movieRequest.getHighestRatedMovies().then(res => {\r\n      if (res.code === 200) {\r\n        const responseMovies = res.data;\r\n        for (let i = 0; i < 3; i++) {\r\n          movies.push({\r\n            id: responseMovies[i].id,\r\n            pic: responseMovies[i].pic,\r\n            label: responseMovies[i].name\r\n          })\r\n        }\r\n        // 将回调延迟到下次 DOM 更新循环之后执行\r\n        nextTick(() => {\r\n          // 切换幻灯片至第2张，从0开始\r\n          carousel.value.setActiveItem(1);\r\n        })\r\n      }\r\n    });\r\n\r\n    return {\r\n      movies,\r\n      screenWidth,\r\n      carousel,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/ .el-carousel__item {\r\n  left: 6%;\r\n}\r\n\r\n/deep/ .el-carousel__button {\r\n  background-color: #545c64;\r\n  border-radius: 5px;\r\n  color: #ffffff;\r\n}\r\n\r\n.main {\r\n  width: 100%;\r\n}\r\n\r\n.item {\r\n  width: 25rem;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n\r\n  .img {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 5px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 400px) {\r\n  /deep/ .el-carousel__item {\r\n    left: -14%;\r\n  }\r\n}\r\n\r\n/* 响应式布局 - 当屏幕小于 600 像素宽时，用默认走马灯样式展示 */\r\n@media screen and (min-width: 400px) and (max-width: 600px) {\r\n  /deep/ .el-carousel__item {\r\n    left: -9%;\r\n  }\r\n}\r\n\r\n/* 响应式布局 - 当屏幕大于600像素 小于 3000像素 宽时，用card走马灯样式展示 */\r\n@media screen and (min-width: 600px) and (max-width: 3000px) {\r\n  /deep/ .el-carousel__item {\r\n    left: 6%;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}