{"ast":null,"code":"import recommendationRequest from \"@/api/recommendation\";\nimport { ref } from \"vue\";\nimport MovieStrip from \"@/components/basic/MovieStrip\";\nimport BlankPage from \"@/components/basic/BlankPage\";\nexport default {\n  name: \"RecommendationView\",\n  components: {\n    MovieStrip,\n    BlankPage\n  },\n  setup() {\n    let loading = ref(true);\n    let recommendedMovies = ref([]);\n    recommendationRequest.getRecommendedMoviesByUserId().then(res => {\n      if (res.code === 200) {\n        recommendedMovies.value = res.data;\n        recommendedMovies.value.forEach((movie, idx) => {\n          movie.idx *= 100;\n          // 保留两位小数（四舍五入）\n          movie.idx = movie.idx.toFixed(2);\n          return movie;\n        });\n        loading.value = false;\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    return {\n      loading,\n      recommendedMovies\n    };\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,qBAAoB,MAAO,sBAAsB;AACxD,SAAQC,GAAG,QAAO,KAAK;AACvB,OAAOC,UAAS,MAAO,+BAA+B;AACtD,OAAOC,SAAQ,MAAO,8BAA8B;AAEpD,eAAe;EACbC,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IAACH,UAAU;IAAEC;EAAS,CAAC;EACnCG,KAAKA,GAAG;IACN,IAAIC,OAAM,GAAIN,GAAG,CAAC,IAAI;IACtB,IAAIO,iBAAgB,GAAIP,GAAG,CAAC,EAAE;IAC9BD,qBAAqB,CAACS,4BAA4B,CAAC,CAAC,CAACC,IAAI,CAACC,GAAE,IAAK;MAC/D,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;QACpBJ,iBAAiB,CAACK,KAAI,GAAIF,GAAG,CAACG,IAAG;QACjCN,iBAAiB,CAACK,KAAK,CAACE,OAAO,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAK;UAC9CD,KAAK,CAACC,GAAE,IAAK,GAAE;UACf;UACAD,KAAK,CAACC,GAAE,GAAID,KAAK,CAACC,GAAG,CAACC,OAAO,CAAC,CAAC;UAC/B,OAAOF,KAAI;QACb,CAAC;QACDT,OAAO,CAACM,KAAI,GAAI,KAAI;MACtB;IACF,CAAC,CAAC,CAACM,KAAK,CAACC,GAAE,IAAK;MACdC,OAAO,CAACC,KAAK,CAACF,GAAG;IACnB,CAAC;IAED,OAAO;MACLb,OAAO;MACPC;IACF;EACF;AACF","names":["recommendationRequest","ref","MovieStrip","BlankPage","name","components","setup","loading","recommendedMovies","getRecommendedMoviesByUserId","then","res","code","value","data","forEach","movie","idx","toFixed","catch","err","console","error"],"sourceRoot":"","sources":["F:\\personalSpace\\lx-bishe\\movie_recommendation_system_vue\\src\\views\\personal\\info\\RecommendationView.vue"],"sourcesContent":["<template>\r\n  <el-skeleton :loading=\"loading\" :rows=\"5\" animated/>\r\n\r\n  <template v-for=\"movie in recommendedMovies\" :key=\"movie.id\">\r\n    <movie-strip :movie=\"movie\" style=\"margin-bottom: 1rem;\">\r\n      <template v-slot:header>\r\n        <div class=\"movie-strip-slot-header\">\r\n          <svg-icon icon-class=\"recommendation_5\"></svg-icon>\r\n          <span>推荐指数</span>\r\n          <el-divider direction=\"vertical\"/>\r\n          <span>{{ movie.idx }}%</span>\r\n        </div>\r\n      </template>\r\n    </movie-strip>\r\n  </template>\r\n\r\n  <blank-page v-if=\"!loading && !recommendedMovies.length\" :page-name=\"'recommendation'\"></blank-page>\r\n</template>\r\n\r\n<script>\r\nimport recommendationRequest from \"@/api/recommendation\";\r\nimport {ref} from \"vue\";\r\nimport MovieStrip from \"@/components/basic/MovieStrip\";\r\nimport BlankPage from \"@/components/basic/BlankPage\";\r\n\r\nexport default {\r\n  name: \"RecommendationView\",\r\n  components: {MovieStrip, BlankPage},\r\n  setup() {\r\n    let loading = ref(true)\r\n    let recommendedMovies = ref([])\r\n    recommendationRequest.getRecommendedMoviesByUserId().then(res => {\r\n      if (res.code === 200) {\r\n        recommendedMovies.value = res.data\r\n        recommendedMovies.value.forEach((movie, idx) => {\r\n          movie.idx *= 100\r\n          // 保留两位小数（四舍五入）\r\n          movie.idx = movie.idx.toFixed(2)\r\n          return movie\r\n        })\r\n        loading.value = false\r\n      }\r\n    }).catch(err => {\r\n      console.error(err)\r\n    })\r\n\r\n    return {\r\n      loading,\r\n      recommendedMovies\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.movie-strip-slot-header {\r\n  color: rgb(250, 114, 104);\r\n  font-size: 1.2rem;\r\n  font-weight: initial;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}