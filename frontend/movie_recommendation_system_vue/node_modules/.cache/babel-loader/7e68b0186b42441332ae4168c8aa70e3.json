{"ast":null,"code":"import { ref, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"PersonalSettingView\",\n  setup() {\n    const router = useRouter();\n    let activeIndex = ref('settingPersonalInfo');\n    const handleIndexChange = index => {\n      if (index === 'settingPersonalInfo') {\n        activeIndex.value = 'settingPersonalInfo';\n        router.push({\n          name: 'settingPersonalInfo'\n        });\n      } else {\n        activeIndex.value = 'settingAccount';\n        router.push({\n          name: 'settingAccount'\n        });\n      }\n    };\n\n    /**\r\n     * 监听路由名称的变化，页面刷新时立即生效，用于更新菜单激活单元\r\n     * 解决页面刷新或则回退，菜单激活单元不变的问题\r\n     */\n    watch(() => router.currentRoute.value.name, (newValue, oldValue) => {\n      activeIndex.value = newValue;\n    }, {\n      immediate: true\n    });\n    return {\n      activeIndex,\n      handleIndexChange\n    };\n  }\n};","map":{"version":3,"mappings":"AAwDA,SAAQA,GAAG,EAAEC,KAAK,QAAO,KAAK;AAC9B,SAAQC,SAAS,QAAO,YAAY;AAEpC,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAC3BC,KAAKA,GAAG;IACN,MAAMC,MAAK,GAAIH,SAAS,CAAC;IACzB,IAAII,WAAU,GAAIN,GAAG,CAAC,qBAAqB;IAC3C,MAAMO,iBAAgB,GAAKC,KAAK,IAAK;MACnC,IAAIA,KAAI,KAAM,qBAAqB,EAAE;QACnCF,WAAW,CAACG,KAAI,GAAI,qBAAoB;QACxCJ,MAAM,CAACK,IAAI,CAAC;UAACP,IAAI,EAAE;QAAqB,CAAC;MAC3C,OAAO;QACLG,WAAW,CAACG,KAAI,GAAI,gBAAe;QACnCJ,MAAM,CAACK,IAAI,CAAC;UAACP,IAAI,EAAE;QAAgB,CAAC;MACtC;IACF;;IAEA;;;;IAIAF,KAAK,CAAC,MAAMI,MAAM,CAACM,YAAY,CAACF,KAAK,CAACN,IAAI,EAAE,CAACS,QAAQ,EAAEC,QAAQ,KAAK;MAClEP,WAAW,CAACG,KAAI,GAAIG,QAAO;IAC7B,CAAC,EAAE;MAACE,SAAS,EAAE;IAAI,CAAC;IAEpB,OAAO;MACLR,WAAW;MACXC;IACF;EACF;AACF","names":["ref","watch","useRouter","name","setup","router","activeIndex","handleIndexChange","index","value","push","currentRoute","newValue","oldValue","immediate"],"sourceRoot":"","sources":["F:\\personalSpace\\lx-bishe\\movie_recommendation_system_vue\\src\\views\\personal\\PersonalSettingView.vue"],"sourcesContent":["<template>\r\n  <div class=\"setting-main\">\r\n    <el-row>\r\n      <el-col :span=\"3\" class=\"setting-border\">\r\n        <div class=\"setting-font\">设置</div>\r\n        <el-divider/>\r\n        <el-menu\r\n            @select=\"handleIndexChange\"\r\n            :default-active=\"activeIndex\"\r\n            class=\"setting-menu-first\"\r\n        >\r\n          <el-menu-item index=\"settingPersonalInfo\">\r\n            <el-icon>\r\n              <user/>\r\n            </el-icon>\r\n            <span>个人资料</span>\r\n          </el-menu-item>\r\n\r\n          <el-menu-item index=\"settingAccount\">\r\n            <el-icon>\r\n              <setting/>\r\n            </el-icon>\r\n            <span>账号设置</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n\r\n        <el-menu\r\n            @select=\"handleIndexChange\"\r\n            :default-active=\"activeIndex\"\r\n            class=\"setting-menu-second\"\r\n        >\r\n          <el-menu-item index=\"settingPersonalInfo\">\r\n            <el-icon>\r\n              <user/>\r\n            </el-icon>\r\n          </el-menu-item>\r\n\r\n          <el-menu-item index=\"settingAccount\">\r\n            <el-icon>\r\n              <setting/>\r\n            </el-icon>\r\n          </el-menu-item>\r\n        </el-menu>\r\n\r\n      </el-col>\r\n\r\n      <el-col :span=\"21\" class=\"setting-border\">\r\n        <router-view></router-view>\r\n      </el-col>\r\n    </el-row>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ref, watch} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"PersonalSettingView\",\r\n  setup() {\r\n    const router = useRouter()\r\n    let activeIndex = ref('settingPersonalInfo')\r\n    const handleIndexChange = (index) => {\r\n      if (index === 'settingPersonalInfo') {\r\n        activeIndex.value = 'settingPersonalInfo'\r\n        router.push({name: 'settingPersonalInfo'})\r\n      } else {\r\n        activeIndex.value = 'settingAccount'\r\n        router.push({name: 'settingAccount'})\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 监听路由名称的变化，页面刷新时立即生效，用于更新菜单激活单元\r\n     * 解决页面刷新或则回退，菜单激活单元不变的问题\r\n     */\r\n    watch(() => router.currentRoute.value.name, (newValue, oldValue) => {\r\n      activeIndex.value = newValue\r\n    }, {immediate: true})\r\n\r\n    return {\r\n      activeIndex,\r\n      handleIndexChange\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.setting-main {\r\n  .setting-font {\r\n    margin-top: 1.5rem;\r\n    width: 100%;\r\n    font-size: 1.5rem;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.setting-menu-first {\r\n  display: block;\r\n}\r\n\r\n.setting-menu-second {\r\n  display: none;\r\n}\r\n\r\n@media screen and (max-width: 1145px) {\r\n  .setting-menu-first {\r\n    display: none;\r\n  }\r\n\r\n  .setting-menu-second {\r\n    display: block;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}