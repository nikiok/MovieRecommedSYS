{"ast":null,"code":"import MovieInfo from \"@/components/movie/MovieInfo\";\nimport MovieComments from \"@/components/movie/MovieComments\";\nimport MovieList from \"@/components/home/MovieList\";\nimport { reactive, ref } from \"vue\";\nimport movieRequest from \"@/api/movie\";\nimport { useRouter } from \"vue-router\";\nimport { ErrorMessage } from \"@/utils/my-message\";\nimport { Edit } from \"@element-plus/icons\";\nimport CommentStrip from \"@/components/basic/CommentStrip\";\nexport default {\n  name: 'MovieInfoView',\n  components: {\n    CommentStrip,\n    Edit,\n    MovieInfo,\n    MovieComments,\n    MovieList\n  },\n  setup() {\n    const router = useRouter();\n    let tag = ref('喜欢这部电影的人也喜欢');\n    let movies = reactive([]);\n    let mid = ref(router.currentRoute.value.params.id);\n    movieRequest.getRecommendedMovieByMovieId(mid.value).then(res => {\n      if (res.code === 200) {\n        let moviesRes = res.data.movies;\n        for (let i = 0; i < moviesRes.length; ++i) {\n          movies.push(moviesRes[i]);\n        }\n      } else {\n        ErrorMessage(res.msg);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    return {\n      tag,\n      movies,\n      mid\n    };\n  }\n};","map":{"version":3,"mappings":"AAaA,OAAOA,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,aAAY,MAAO,kCAAkC;AAC5D,OAAOC,SAAQ,MAAO,6BAA6B;AACnD,SAAQC,QAAQ,EAAEC,GAAG,QAAO,KAAK;AACjC,OAAOC,YAAW,MAAO,aAAa;AACtC,SAAQC,SAAS,QAAO,YAAY;AACpC,SAAQC,YAAY,QAAO,oBAAoB;AAC/C,SAAQC,IAAI,QAAO,qBAAqB;AACxC,OAAOC,YAAW,MAAO,iCAAiC;AAE1D,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IAACF,YAAY;IAAED,IAAI;IAAER,SAAS;IAAEC,aAAa;IAAEC;EAAS,CAAC;EACrEU,KAAKA,GAAG;IACN,MAAMC,MAAK,GAAIP,SAAS,CAAC;IAEzB,IAAIQ,GAAE,GAAIV,GAAG,CAAC,aAAa;IAC3B,IAAIW,MAAK,GAAIZ,QAAQ,CAAC,EAAE;IACxB,IAAIa,GAAE,GAAIZ,GAAG,CAACS,MAAM,CAACI,YAAY,CAACC,KAAK,CAACC,MAAM,CAACC,EAAE;IAEjDf,YAAY,CAACgB,4BAA4B,CACrCL,GAAG,CAACE,KACR,CAAC,CAACI,IAAI,CAACC,GAAE,IAAK;MACZ,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;QACpB,IAAIC,SAAQ,GAAIF,GAAG,CAACG,IAAI,CAACX,MAAK;QAC9B,KAAK,IAAIY,IAAI,CAAC,EAAEA,IAAIF,SAAS,CAACG,MAAM,EAAE,EAAED,CAAC,EAAE;UACzCZ,MAAM,CAACc,IAAI,CAACJ,SAAS,CAACE,CAAC,CAAC;QAC1B;MACF,OAAO;QACLpB,YAAY,CAACgB,GAAG,CAACO,GAAG;MACtB;IACF,CAAC,CAAC,CAACC,KAAK,CAACC,GAAE,IAAK;MACdC,OAAO,CAACC,KAAK,CAACF,GAAG;IACnB,CAAC;IAED,OAAO;MACLlB,GAAG;MACHC,MAAM;MACNC;IACF;EACF;AACF","names":["MovieInfo","MovieComments","MovieList","reactive","ref","movieRequest","useRouter","ErrorMessage","Edit","CommentStrip","name","components","setup","router","tag","movies","mid","currentRoute","value","params","id","getRecommendedMovieByMovieId","then","res","code","moviesRes","data","i","length","push","msg","catch","err","console","error"],"sourceRoot":"","sources":["F:\\personalSpace\\lx-bishe\\movie_recommendation_system_vue\\src\\views\\MovieInfoView.vue"],"sourcesContent":["<template>\r\n  <div class=\"master\">\r\n    <movie-info/>\r\n\r\n    <div class=\"list-and-comments my-border\">\r\n      <movie-list v-if=\"movies.length\" class=\"list\" :tag=\"tag\" :movies=\"movies\" :opt=\"0\"/>\r\n\r\n      <movie-comments :mid=\"mid\" style=\"margin-top: 1.5rem;\"></movie-comments>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MovieInfo from \"@/components/movie/MovieInfo\";\r\nimport MovieComments from \"@/components/movie/MovieComments\";\r\nimport MovieList from \"@/components/home/MovieList\";\r\nimport {reactive, ref} from \"vue\";\r\nimport movieRequest from \"@/api/movie\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {ErrorMessage} from \"@/utils/my-message\";\r\nimport {Edit} from \"@element-plus/icons\";\r\nimport CommentStrip from \"@/components/basic/CommentStrip\";\r\n\r\nexport default {\r\n  name: 'MovieInfoView',\r\n  components: {CommentStrip, Edit, MovieInfo, MovieComments, MovieList},\r\n  setup() {\r\n    const router = useRouter()\r\n\r\n    let tag = ref('喜欢这部电影的人也喜欢')\r\n    let movies = reactive([])\r\n    let mid = ref(router.currentRoute.value.params.id)\r\n\r\n    movieRequest.getRecommendedMovieByMovieId(\r\n        mid.value\r\n    ).then(res => {\r\n      if (res.code === 200) {\r\n        let moviesRes = res.data.movies\r\n        for (let i = 0; i < moviesRes.length; ++i) {\r\n          movies.push(moviesRes[i])\r\n        }\r\n      } else {\r\n        ErrorMessage(res.msg)\r\n      }\r\n    }).catch(err => {\r\n      console.error(err)\r\n    })\r\n\r\n    return {\r\n      tag,\r\n      movies,\r\n      mid,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.list-and-comments {\r\n  margin: 2rem 20%;\r\n\r\n  .list {\r\n    margin-left: 2rem;\r\n    margin-right: 2rem;\r\n  }\r\n}\r\n\r\n/deep/ .el-dialog {\r\n  width: 40%\r\n}\r\n\r\n/* 响应式布局 - 当屏幕小于 1200 像素宽 */\r\n@media screen and (max-width: 1200px) {\r\n  .list-and-comments {\r\n    margin-left: 5%;\r\n    margin-right: 5%;\r\n  }\r\n\r\n  /deep/ .el-dialog {\r\n    width: 60%\r\n  }\r\n}\r\n\r\n/* 响应式布局 - 当屏幕 小于 800像素 宽 */\r\n@media screen and (max-width: 800px) {\r\n  .list-and-comments {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n  }\r\n\r\n  /deep/ .el-dialog {\r\n    width: 80%\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}