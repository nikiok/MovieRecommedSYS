{"ast":null,"code":"import AvatarEdit from \"@/components/personal/edit/AvatarEditing\";\nimport { Avatar } from \"@element-plus/icons-vue\";\nimport PersonalInfo from \"@/components/personal/PersonalInfo\";\nimport { ref, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"PersonalView\",\n  components: {\n    Avatar,\n    AvatarEdit,\n    PersonalInfo\n  },\n  setup() {\n    const router = useRouter();\n    let activeIndex = ref('recommendation');\n    const handleIndexChange = index => {\n      activeIndex.value = index;\n      if (index === 'personalRecommendation') {\n        router.push({\n          name: 'personalRecommendation'\n        });\n      } else if (index === 'personalMoments') {\n        router.push({\n          name: 'personalMoments'\n        });\n      } else {\n        router.push({\n          name: 'personalWatched'\n        });\n      }\n    };\n\n    /**\r\n     * 监听路由名称的变化，页面刷新时立即生效，用于更新菜单激活单元\r\n     * 解决页面刷新或则回退，菜单激活单元不变的问题\r\n     */\n    watch(() => router.currentRoute.value.name, (newValue, oldValue) => {\n      activeIndex.value = newValue;\n    }, {\n      immediate: true\n    });\n    return {\n      activeIndex,\n      handleIndexChange\n    };\n  }\n};","map":{"version":3,"mappings":"AAuCA,OAAOA,UAAS,MAAO,0CAA0C;AACjE,SAAQC,MAAM,QAAO,yBAAyB;AAC9C,OAAOC,YAAW,MAAO,oCAAoC;AAC7D,SAAQC,GAAG,EAAEC,KAAK,QAAO,KAAK;AAC9B,SAAQC,SAAS,QAAO,YAAY;AAEpC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IACVN,MAAM;IACND,UAAU;IACVE;EACF,CAAC;EACDM,KAAKA,GAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,CAAC;IACzB,IAAIK,WAAU,GAAIP,GAAG,CAAC,gBAAgB;IAEtC,MAAMQ,iBAAgB,GAAKC,KAAK,IAAK;MACnCF,WAAW,CAACG,KAAI,GAAID,KAAI;MACxB,IAAIA,KAAI,KAAM,wBAAwB,EAAE;QACtCH,MAAM,CAACK,IAAI,CAAC;UAACR,IAAI,EAAE;QAAwB,CAAC;MAC9C,OAAO,IAAIM,KAAI,KAAM,iBAAiB,EAAE;QACtCH,MAAM,CAACK,IAAI,CAAC;UAACR,IAAI,EAAE;QAAiB,CAAC;MACvC,OAAO;QACLG,MAAM,CAACK,IAAI,CAAC;UAACR,IAAI,EAAE;QAAiB,CAAC;MACvC;IACF;;IAEA;;;;IAIAF,KAAK,CAAC,MAAMK,MAAM,CAACM,YAAY,CAACF,KAAK,CAACP,IAAI,EAAE,CAACU,QAAQ,EAAEC,QAAQ,KAAK;MAClEP,WAAW,CAACG,KAAI,GAAIG,QAAO;IAC7B,CAAC,EAAE;MAACE,SAAS,EAAE;IAAI,CAAC;IAEpB,OAAO;MACLR,WAAW;MACXC;IACF;EACF;AACF","names":["AvatarEdit","Avatar","PersonalInfo","ref","watch","useRouter","name","components","setup","router","activeIndex","handleIndexChange","index","value","push","currentRoute","newValue","oldValue","immediate"],"sourceRoot":"","sources":["F:\\personalSpace\\lx-bishe\\movie_recommendation_system_vue\\src\\views\\personal\\PersonalView.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <div class=\"personal-div-top\">\r\n      <avatar-edit :size=\"12\" class=\"avatar\"/>\r\n      <personal-info class=\"info\"/>\r\n    </div>\r\n\r\n    <el-menu\r\n        mode=\"horizontal\"\r\n        @select=\"handleIndexChange\"\r\n        :default-active=\"activeIndex\"\r\n        class=\"setting-menu-first\"\r\n    >\r\n      <el-menu-item index=\"personalRecommendation\">\r\n        <el-icon>\r\n          <document-checked/>\r\n        </el-icon>\r\n        <span>推荐</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"personalMoments\">\r\n        <el-icon>\r\n          <chat-round/>\r\n        </el-icon>\r\n        <span>动态</span>\r\n      </el-menu-item>\r\n      <el-menu-item index=\"personalWatched\">\r\n        <el-icon>\r\n          <film/>\r\n        </el-icon>\r\n        <span>看过</span>\r\n      </el-menu-item>\r\n    </el-menu>\r\n    <div class=\"content\">\r\n      <router-view></router-view>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AvatarEdit from \"@/components/personal/edit/AvatarEditing\";\r\nimport {Avatar} from \"@element-plus/icons-vue\";\r\nimport PersonalInfo from \"@/components/personal/PersonalInfo\";\r\nimport {ref, watch} from \"vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"PersonalView\",\r\n  components: {\r\n    Avatar,\r\n    AvatarEdit,\r\n    PersonalInfo,\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    let activeIndex = ref('recommendation')\r\n\r\n    const handleIndexChange = (index) => {\r\n      activeIndex.value = index\r\n      if (index === 'personalRecommendation') {\r\n        router.push({name: 'personalRecommendation'})\r\n      } else if (index === 'personalMoments') {\r\n        router.push({name: 'personalMoments'})\r\n      } else {\r\n        router.push({name: 'personalWatched'})\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 监听路由名称的变化，页面刷新时立即生效，用于更新菜单激活单元\r\n     * 解决页面刷新或则回退，菜单激活单元不变的问题\r\n     */\r\n    watch(() => router.currentRoute.value.name, (newValue, oldValue) => {\r\n      activeIndex.value = newValue\r\n    }, {immediate: true})\r\n\r\n    return {\r\n      activeIndex,\r\n      handleIndexChange,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n//整体布局\r\n.main {\r\n  min-height: 89.6vh;\r\n  padding-left: 20%;\r\n  padding-right: 20%;\r\n  background-color: #d6dbe7;\r\n}\r\n\r\n//头像和基本信息\r\n.personal-div-top {\r\n  margin-bottom: .1rem;\r\n  flex: 60%;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  border-radius: 0.5rem;\r\n  background-color: #ffffff;\r\n  padding-left: 1rem;\r\n  vertical-align: bottom;\r\n\r\n  .info {\r\n    padding-left: 1rem;\r\n  }\r\n}\r\n\r\n.content {\r\n  padding: 1rem;\r\n  background-color: white;\r\n}\r\n\r\n@media screen and (min-width: 700px) and (max-width: 1200px) {\r\n  .main {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 700px) {\r\n  .main {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n  }\r\n\r\n  .personal-div-top {\r\n    flex-direction: row;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}